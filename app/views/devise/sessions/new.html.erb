<%- current_res_name = "teacher" %>
<div class="row">
  <div class="col-xs-8">
    <div class="col-md-4 col-md-offset-4">

      <div>
        <div class="login-selector">
          <input id="student" type="radio" name="for-login" value="/users/sign_in" />
          <label class="login-mode student" for="student"></label>
          <input id="teacher" type="radio" name="for-login" value="/teachers/sign_in" />
          <label class="login-mode teacher"for="teacher"></label>
        </div>
      </div>
    </div>

  </div>
  <div class="col-xs-4">
    <div class="well">
      <%= form_for(resource, as: resource_name, url: session_path(resource_name), class: "col-md-12 center-block") do |f| %>

        <h2 class="form-signin-heading">Log in</h2>

        <%= devise_error_messages! %>

        <div class="form-group">
          <%= f.text_field :username, autofocus: true, class: "form-control input-xs", placeholder: "Username" %>
        </div>
        <%- resource_type = resource_name.to_s.capitalize %>
        <%= f.hidden_field :type, value: resource_type %>

        <div class="form-group">
          <%= f.password_field :password, autocomplete: "off", class: "form-control input-xs", placeholder: "Password" %>
        </div>

        <% if devise_mapping.rememberable? -%>
          <div class="form-group">
            <%= f.check_box :remember_me %>
            <%= f.label :remember_me %>
          </div>
        <% end -%>

        <div class="form-group">
          <%= f.submit "Log in", class: "btn btn-success btn-lg btn-block" %>
        </div>
      <% end %>
    </div>
  </div>

</div>

<%= javascript_tag do %>
  rname = '<%= resource_name %>';
  if(rname == "teacher"){
    $("#teacher").attr('checked', 'checked');
  }else{
    $("#student").attr('checked', 'checked');
  }
<% end %>